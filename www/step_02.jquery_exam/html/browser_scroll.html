<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../css/bin/reset.css">
  <link rel="stylesheet" href="../css/bin/base.css">
  <script src="../js/jquery/jquery-3.2.1.min.js"></script>
  <script src="../js/jquery/jquery-ui.min.js"></script>
  <title>Document</title>
  <style>
    body,html{width: 100%; height: 100%;}
    #wrap{width: 100%; height: 100%; background-color: #0af;}
    #gnb{width: 30px; height: auto;
      position: fixed; top: 10%; right: 2em; z-index:500;
      padding:0.3em; background-color: #fff; border-radius:50px}
    #gnb>ul{width: 100%; height: auto;}
    #gnb>ul>li{width: 100%;height: 30px; margin-bottom: 1em;
      background-color: #f06; border-radius:100%;}
    #gnb>ul>li>a{width: 100%; height: 100%; display: block;
      color:#fff; text-align: center;line-height: 30px;}
    #wrap>div{width: 100%; height: 100%;}
    .view_01{background-color:#0a0;}
    .view_02{background-color:#f03;}
    .view_03{background-color:#7a7;}
    .view_04{background-color:#a3a;}
    .view_05{background-color:#faf;}

    .active{background-color: #0ff;}
  </style>
</head>
<body>
  <div id="wrap">
    <nav id="gnb">
      <ul>
        <li><a href="#">01</a></li>
        <li><a href="#">02</a></li>
        <li><a href="#">03</a></li>
        <li><a href="#">04</a></li>
        <li><a href="#">05</a></li>
      </ul>
    </nav>
    <div class="view_01 view">view_01</div>
    <div class="view_02 view">view_02</div>
    <div class="view_03 view">view_03</div>
    <div class="view_04 view">view_04</div>
    <div class="view_05 view">view_05</div>
  </div>


  <script>
    (function($){
      var gnbLi = $('#gnb').find('li');
      var viewH = $('html,body').height(); //브라우저의 높이값
      var scrollT = $(window).scrollTop();
//      console.log(viewH);

      gnbLi.on('click', function(evt){
        evt.preventDefault(); //기존 링크 상쇄
        var $this = $(this);  //클릭한 것
        var thisIndex = $this.index();  //클릭한 것의 순서확인
      //  $(window).scrollTop(thisIndex * viewH);  //순서(번호값) * 브라우저 높이값
      $('html, body').animate({scrollTop: thisIndex * viewH},1000,'easeOutBounce');
    }); // gnbLi.onclick 
      
  // 마우스 휠을 사용(크로스 브라우징 처리, 함수(mouseWheel)를 호출)
    $('body').on('mousewheel DOMMouseScroll', mouseWheel);
      
    function mouseWheel(e){
      // 마우스 휠 발생시 생기는 이벤트내의 객체 originalEvent를 변수(mouseEvent)
      var mouseEvent = e.originalEvent;
      // 임의의 변수 생성
      var me = 0;
      var winscroll = $('html,body').scrollTop();
      
      // firefox에있는 마우스휠 이벤트중 detail기능 있는지 판단
      if(mouseEvent.detail){
        //변수 me에 mouseEvent.detail 기능을 담기!
        me = mouseEvent.detail * 40;
      }else{
        //변수 me에 mouseEvent.wheelDelta 기능을 담기!
        me = mouseEvent.wheelDelta;
      }
      // 위기능 결론: 어느 브라우저라도 마우스휠을 사용했을때 똑같은 결과값이 me에 작용하도록 처리!!
      
      // 마우스휠 위/아래 적용
      if(me > 0){
      // 1. 아래로 휠을 올렸을때 화면이동         
      // $('html body').stop().animate({scrollTop:scrollT -= viewH}, 1000);
        
        if(scrollT <= 0){
        // 1-1: scrollTop높이가 0작으면 무조건 scrollTop은 0
            $(window).scrollTop(0);
           }else{
        // 1-2: 0보다 큰상태일때는 작동(스크롤)!
            $('html body').stop().animate({scrollTop:scrollT -= viewH}, 1000);
           }// scroll높이0일경우판단 종료
        
         }else{
      // 2. 위로 휠을 내렸을때 화면이동
      // $('html body').stop().animate({scrollTop:scrollT += viewH}, 1000);
           
           var browserFullH = viewH * 4; //브라우저 전체 높이값 계산(5개이기에 '*4' 처리)
           if(scrollT >= browserFullH){
           // 2-1: scroll높이를 전체 브라우저의 높이값을 판단해서 처리
               $(window).scrollTop(browserFullH);
            }else{
           // 2-2: 이외의 기능은 기존 계산식을 사용
             $('html body').stop().animate({scrollTop:scrollT += viewH}, 1000); 
            }// else   
         }// 마우스 전체 휠(else)
      
      
    }  // mouseWheel(e)     
      
      
      
      // wrap 내부의 div 갯수파악 방법
      var wrapLength = $('#wrap').children('.view').length; 
//      console.log( wrapLength );
    })(this.jQuery);
  </script>
</body>
</html>








<!--  -->
